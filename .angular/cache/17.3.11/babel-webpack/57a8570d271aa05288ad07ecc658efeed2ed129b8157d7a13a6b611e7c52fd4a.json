{"ast":null,"code":"import { MatCardModule } from '@angular/material/card';\nimport { CustomTablerIconsModule } from '../../custom-tabler-icons.module';\nimport { FoodSelectionModalComponent } from './food-selection-modal/food-selection-modal.component';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../products/productsservice.service\";\nimport * as i3 from \"../order/order-state-service.service\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"angular-tabler-icons\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nfunction MenuComponent_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", category_r1, \" \");\n  }\n}\nfunction MenuComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"mat-card\", 16)(2, \"a\", 17)(3, \"div\", 18);\n    i0.ɵɵelement(4, \"img\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"mat-card-content\", 20)(6, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function MenuComponent_div_16_Template_button_click_6_listener() {\n      const product_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.openFoodSelectionModal(product_r3));\n    });\n    i0.ɵɵelement(7, \"i-tabler\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-card-title\", 23);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 24)(11, \"h6\", 25);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"alt\", product_r3.name);\n    i0.ɵɵproperty(\"src\", product_r3.picture ? product_r3.picture : \"./assets/images/logos/default-image.jpeg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", product_r3.name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", product_r3.price, \" TND\");\n  }\n}\nexport class MenuComponent {\n  constructor(dialog, productService, orderStateService) {\n    this.dialog = dialog;\n    this.productService = productService;\n    this.orderStateService = orderStateService;\n    this.products = [];\n    this.token = null;\n    this.searchText = '';\n    this.filteredProducts = [];\n    this.selectedCategory = '';\n    this.categories = [];\n  }\n  filterOrders() {\n    this.filteredProducts = this.products.filter(product => product.name.toLowerCase().includes(this.searchText.toLowerCase()) && (this.selectedCategory === '' || product.category === this.selectedCategory));\n  }\n  ngOnInit() {\n    this.token = localStorage.getItem('token');\n    if (this.token) {\n      this.loadProducts();\n    } else {\n      console.error('No token found!');\n    }\n  }\n  loadProducts() {\n    this.productService.getAllFoods(this.token).subscribe(data => {\n      this.products = data;\n      this.filteredProducts = this.products;\n      this.categories = Array.from(new Set(data.map(item => item.category)));\n      console.log(this.categories);\n    }, error => {\n      console.error('Error loading products:', error);\n    });\n  }\n  openFoodSelectionModal(product) {\n    const dialogRef = this.dialog.open(FoodSelectionModalComponent, {\n      data: {\n        product\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.addToCart(product, result.quantity);\n      }\n    });\n  }\n  addToCart(product, quantity) {\n    if (product.id !== undefined) {\n      const orderItem = {\n        foodId: product.id,\n        quantity: quantity,\n        food: product\n      };\n      this.orderStateService.addItem(orderItem);\n      console.log('Item added to cart:', orderItem);\n    } else {\n      console.error('Product ID is undefined, cannot add to cart');\n    }\n  }\n  static {\n    this.ɵfac = function MenuComponent_Factory(t) {\n      return new (t || MenuComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ProductsService), i0.ɵɵdirectiveInject(i3.OrderStateService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MenuComponent,\n      selectors: [[\"app-menu\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 17,\n      vars: 4,\n      consts: [[1, \"modern-card\"], [1, \"modern-card-header\"], [1, \"modern-title\"], [1, \"modern-card-content\"], [1, \"filter-container\"], [1, \"search-container\"], [\"type\", \"text\", \"placeholder\", \"Search orders...\", 1, \"search-input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"category-container\"], [\"for\", \"categorySelect\", 1, \"category-label\"], [\"id\", \"categorySelect\", 1, \"category-select\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-grid\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"product-card\"], [1, \"product-card-inner\"], [\"routerLink\", \"/widgets/cards\"], [1, \"product-image-container\"], [\"mat-card-image\", \"\", 1, \"product-image\", 3, \"src\", \"alt\"], [1, \"product-content\"], [\"color\", \"primary\", \"matTooltip\", \"Add to Cart\", 1, \"cart-btn\", 3, \"click\"], [\"name\", \"shopping-cart\", 1, \"cart-icon\"], [1, \"product-title\"], [1, \"price-container\"], [1, \"product-price\"]],\n      template: function MenuComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"mat-card\", 0)(1, \"mat-card-header\", 1)(2, \"mat-card-title\", 2);\n          i0.ɵɵtext(3, \"Menu\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"mat-card-content\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function MenuComponent_Template_input_ngModelChange_7_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchText, $event) || (ctx.searchText = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"ngModelChange\", function MenuComponent_Template_input_ngModelChange_7_listener() {\n            return ctx.filterOrders();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\n          i0.ɵɵtext(10, \"Category:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"select\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function MenuComponent_Template_select_ngModelChange_11_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedCategory, $event) || (ctx.selectedCategory = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"change\", function MenuComponent_Template_select_change_11_listener() {\n            return ctx.filterOrders();\n          });\n          i0.ɵɵelementStart(12, \"option\", 10);\n          i0.ɵɵtext(13, \"All\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(14, MenuComponent_option_14_Template, 2, 2, \"option\", 11);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(15, \"div\", 12);\n          i0.ɵɵtemplate(16, MenuComponent_div_16_Template, 13, 4, \"div\", 13);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchText);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedCategory);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.filteredProducts);\n        }\n      },\n      dependencies: [MatCardModule, i4.MatCard, i4.MatCardContent, i4.MatCardHeader, i4.MatCardImage, i4.MatCardTitle, CustomTablerIconsModule, i5.TablerIconComponent, CommonModule, i6.NgForOf, FormsModule, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgModel],\n      styles: [\".modern-card[_ngcontent-%COMP%] {\\n  border-radius: 12px;\\n  background: #f8f9fa;\\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);\\n  overflow: hidden;\\n  transition: box-shadow 0.3s ease;\\n}\\n.modern-card[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);\\n}\\n\\n.modern-card-header[_ngcontent-%COMP%] {\\n  background: #007bff;\\n  padding: 20px;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n\\n.modern-title[_ngcontent-%COMP%] {\\n  font-size: 26px;\\n  font-weight: 700;\\n  color: #ffffff;\\n  text-transform: uppercase;\\n}\\n\\n.modern-card-content[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n\\n.filter-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 20px;\\n  margin-bottom: 20px;\\n}\\n\\n.search-container[_ngcontent-%COMP%], .category-container[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.search-input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 14px 16px;\\n  border: none;\\n  border-radius: 8px;\\n  font-size: 16px;\\n  background: #ffffff;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n}\\n.search-input[_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\\n  outline: none;\\n}\\n\\n.category-container[_ngcontent-%COMP%] {\\n  margin-left: 20px;\\n}\\n\\n.category-label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 8px;\\n  font-weight: 500;\\n  font-size: 14px;\\n  color: #333;\\n}\\n\\n.category-select[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 14px 16px;\\n  border: none;\\n  border-radius: 8px;\\n  font-size: 16px;\\n  background: #ffffff;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n}\\n.category-select[_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\\n  outline: none;\\n}\\n\\n.product-grid[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 24px;\\n}\\n\\n.product-card[_ngcontent-%COMP%] {\\n  flex: 1 1 calc(33.333% - 24px);\\n  box-sizing: border-box;\\n}\\n\\n.product-card-inner[_ngcontent-%COMP%] {\\n  border-radius: 12px;\\n  overflow: hidden;\\n  background: #ffffff;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\\n}\\n.product-card-inner[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-6px);\\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);\\n}\\n\\n.product-image-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 220px;\\n  overflow: hidden;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n\\n.product-image[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n\\n.product-content[_ngcontent-%COMP%] {\\n  padding: 16px;\\n  position: relative;\\n}\\n\\n.cart-btn[_ngcontent-%COMP%] {\\n  background-color: #28a745;\\n  border: none;\\n  border-radius: 50%;\\n  padding: 12px;\\n  position: absolute;\\n  top: 16px;\\n  right: 16px;\\n  color: #ffffff;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  transition: background-color 0.3s ease, box-shadow 0.3s ease;\\n}\\n.cart-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #218838;\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\\n}\\n\\n.cart-icon[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n}\\n\\n.product-title[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 600;\\n  color: #333;\\n  margin-bottom: 8px;\\n}\\n\\n.price-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\n.product-price[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 700;\\n  color: #007bff;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbWVudS9tZW51LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLHlDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQ0FBQTtBQUFGO0FBRUU7RUFDRSwwQ0FBQTtBQUFKOztBQUlBO0VBQ0UsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsMkNBQUE7QUFERjs7QUFJQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSx5QkFBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtBQURGOztBQUlBO0VBQ0UsT0FBQTtBQURGOztBQUlBO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0Esd0NBQUE7RUFDQSx5QkFBQTtBQURGO0FBR0U7RUFDRSx5Q0FBQTtFQUNBLGFBQUE7QUFESjs7QUFLQTtFQUNFLGlCQUFBO0FBRkY7O0FBS0E7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FBRkY7O0FBS0E7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSx3Q0FBQTtFQUNBLHlCQUFBO0FBRkY7QUFJRTtFQUNFLHlDQUFBO0VBQ0EsYUFBQTtBQUZKOztBQU1BO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSxTQUFBO0FBSEY7O0FBTUE7RUFDRSw4QkFBQTtFQUNBLHNCQUFBO0FBSEY7O0FBTUE7RUFDRSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSx3Q0FBQTtFQUNBLHFEQUFBO0FBSEY7QUFLRTtFQUNFLDJCQUFBO0VBQ0EsMENBQUE7QUFISjs7QUFPQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSwyQ0FBQTtBQUpGOztBQU9BO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQUpGOztBQU9BO0VBQ0UsYUFBQTtFQUNBLGtCQUFBO0FBSkY7O0FBT0E7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLHdDQUFBO0VBQ0EsNERBQUE7QUFKRjtBQU1FO0VBQ0UseUJBQUE7RUFDQSx5Q0FBQTtBQUpKOztBQVFBO0VBQ0UsZUFBQTtBQUxGOztBQVFBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBTEY7O0FBUUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtBQUxGOztBQVFBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQUxGIiwic291cmNlc0NvbnRlbnQiOlsiLy8gU0NTUyBTdHlsZXNcbi5tb2Rlcm4tY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIGJhY2tncm91bmQ6ICNmOGY5ZmE7XG4gIGJveC1zaGFkb3c6IDAgNnB4IDE4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuM3MgZWFzZTtcbiAgXG4gICY6aG92ZXIge1xuICAgIGJveC1zaGFkb3c6IDAgMTJweCAyNHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgfVxufVxuXG4ubW9kZXJuLWNhcmQtaGVhZGVyIHtcbiAgYmFja2dyb3VuZDogIzAwN2JmZjtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbn1cblxuLm1vZGVybi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMjZweDtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5tb2Rlcm4tY2FyZC1jb250ZW50IHtcbiAgcGFkZGluZzogMjBweDtcbn1cblxuLmZpbHRlci1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDIwcHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5zZWFyY2gtY29udGFpbmVyLCAuY2F0ZWdvcnktY29udGFpbmVyIHtcbiAgZmxleDogMTtcbn1cblxuLnNlYXJjaC1pbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxNHB4IDE2cHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIFxuICAmOmZvY3VzIHtcbiAgICBib3gtc2hhZG93OiAwIDZweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICBvdXRsaW5lOiBub25lO1xuICB9XG59XG5cbi5jYXRlZ29yeS1jb250YWluZXIge1xuICBtYXJnaW4tbGVmdDogMjBweDtcbn1cblxuLmNhdGVnb3J5LWxhYmVsIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1ib3R0b206IDhweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBjb2xvcjogIzMzMztcbn1cblxuLmNhdGVnb3J5LXNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxNHB4IDE2cHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIFxuICAmOmZvY3VzIHtcbiAgICBib3gtc2hhZG93OiAwIDZweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICBvdXRsaW5lOiBub25lO1xuICB9XG59XG5cbi5wcm9kdWN0LWdyaWQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGdhcDogMjRweDtcbn1cblxuLnByb2R1Y3QtY2FyZCB7XG4gIGZsZXg6IDEgMSBjYWxjKDMzLjMzMyUgLSAyNHB4KTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLnByb2R1Y3QtY2FyZC1pbm5lciB7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzIGVhc2UsIGJveC1zaGFkb3cgMC4zcyBlYXNlO1xuICBcbiAgJjpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC02cHgpO1xuICAgIGJveC1zaGFkb3c6IDAgMTJweCAyNHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgfVxufVxuXG4ucHJvZHVjdC1pbWFnZS1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAyMjBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbn1cblxuLnByb2R1Y3QtaW1hZ2Uge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvYmplY3QtZml0OiBjb3Zlcjtcbn1cblxuLnByb2R1Y3QtY29udGVudCB7XG4gIHBhZGRpbmc6IDE2cHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmNhcnQtYnRuIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI4YTc0NTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHBhZGRpbmc6IDEycHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxNnB4O1xuICByaWdodDogMTZweDtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlLCBib3gtc2hhZG93IDAuM3MgZWFzZTtcbiAgXG4gICY6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMyMTg4Mzg7XG4gICAgYm94LXNoYWRvdzogMCA2cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH1cbn1cblxuLmNhcnQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMjRweDtcbn1cblxuLnByb2R1Y3QtdGl0bGUge1xuICBmb250LXNpemU6IDE4cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMzMzO1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG59XG5cbi5wcmljZS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbi5wcm9kdWN0LXByaWNlIHtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LXdlaWdodDogNzAwO1xuICBjb2xvcjogIzAwN2JmZjtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["MatCardModule","CustomTablerIconsModule","FoodSelectionModalComponent","CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","category_r1","ɵɵadvance","ɵɵtextInterpolate1","ɵɵelement","ɵɵlistener","MenuComponent_div_16_Template_button_click_6_listener","product_r3","ɵɵrestoreView","_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","openFoodSelectionModal","ɵɵpropertyInterpolate","name","picture","ɵɵsanitizeUrl","price","MenuComponent","constructor","dialog","productService","orderStateService","products","token","searchText","filteredProducts","selectedCategory","categories","filterOrders","filter","product","toLowerCase","includes","category","ngOnInit","localStorage","getItem","loadProducts","console","error","getAllFoods","subscribe","data","Array","from","Set","map","item","log","dialogRef","open","afterClosed","result","addToCart","quantity","id","undefined","orderItem","foodId","food","addItem","ɵɵdirectiveInject","i1","MatDialog","i2","ProductsService","i3","OrderStateService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","MenuComponent_Template","rf","ctx","ɵɵtwoWayListener","MenuComponent_Template_input_ngModelChange_7_listener","$event","ɵɵtwoWayBindingSet","MenuComponent_Template_select_ngModelChange_11_listener","MenuComponent_Template_select_change_11_listener","ɵɵtemplate","MenuComponent_option_14_Template","MenuComponent_div_16_Template","ɵɵtwoWayProperty","i4","MatCard","MatCardContent","MatCardHeader","MatCardImage","MatCardTitle","i5","TablerIconComponent","i6","NgForOf","i7","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["/home/layth/Desktop/front/front/src/app/pages/menu/menu.component.ts","/home/layth/Desktop/front/front/src/app/pages/menu/menu.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MatCardModule } from '@angular/material/card';\nimport { CustomTablerIconsModule } from '../../custom-tabler-icons.module'; \nimport { FoodSelectionModalComponent } from './food-selection-modal/food-selection-modal.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ProductsService } from '../products/productsservice.service';\nimport { Food } from '../models/food';\nimport { CommonModule } from '@angular/common';\nimport { OrderStateService } from '../order/order-state-service.service';\nimport { FormsModule } from '@angular/forms';\nimport { MatOption } from '@angular/material/core';\nimport { MatFormField, MatLabel } from '@angular/material/form-field';\n\n@Component({\n  selector: 'app-menu',\n  standalone: true,\n  imports: [MatFormField,MatLabel,MatOption,MatCardModule, CustomTablerIconsModule, CommonModule,FormsModule],\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.scss']\n})\nexport class MenuComponent implements OnInit {\n  products: Food[] = [];\n  token: string | null = null;\n  searchText: string = '';\n  filteredProducts: Food[] = [];\n  selectedCategory: string = '';\n  categories: string[] = [];\n  constructor(\n    private dialog: MatDialog, \n    private productService: ProductsService, \n    private orderStateService: OrderStateService\n  ) {}\n  filterOrders() {\n    this.filteredProducts = this.products.filter(product => \n      product.name.toLowerCase().includes(this.searchText.toLowerCase()) &&\n      (this.selectedCategory === '' || product.category === this.selectedCategory));}\n  ngOnInit(): void {\n    this.token = localStorage.getItem('token');\n    if (this.token) {\n      this.loadProducts();\n    } else {\n      console.error('No token found!');\n    }\n  }\n\n  loadProducts(): void {\n    this.productService.getAllFoods(this.token!).subscribe(\n      (data) => {this.products = data;\n        this.filteredProducts=this.products;\n        this.categories = Array.from(new Set(data.map(item => item.category))); \n        console.log(this.categories);\n      },\n      (error) => {\n        console.error('Error loading products:', error);\n      }\n    );\n  }\n\n  openFoodSelectionModal(product: Food) {\n    const dialogRef = this.dialog.open(FoodSelectionModalComponent, {\n      data: { product }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.addToCart(product, result.quantity);\n      }\n    });\n  }\n\n  addToCart(product: Food, quantity: number) {\n    if (product.id !== undefined) {\n      const orderItem = {\n        foodId: product.id,\n        quantity: quantity,\n        food: product\n      };\n      this.orderStateService.addItem(orderItem);\n      console.log('Item added to cart:', orderItem);\n    } else {\n      console.error('Product ID is undefined, cannot add to cart');\n    }\n  }\n}\n","<mat-card class=\"modern-card\">\n  <mat-card-header class=\"modern-card-header\">\n    <mat-card-title class=\"modern-title\">Menu</mat-card-title>\n  </mat-card-header>\n  <mat-card-content class=\"modern-card-content\">\n    <div class=\"filter-container\">\n      <div class=\"search-container\">\n        <input\n          type=\"text\"\n          placeholder=\"Search orders...\"\n          class=\"search-input\"\n          [(ngModel)]=\"searchText\"\n          (ngModelChange)=\"filterOrders()\"\n        />\n      </div>\n      <div class=\"category-container\">\n        <label for=\"categorySelect\" class=\"category-label\">Category:</label>\n        <select id=\"categorySelect\" [(ngModel)]=\"selectedCategory\" (change)=\"filterOrders()\" class=\"category-select\">\n          <option value=\"\">All</option>\n          <option *ngFor=\"let category of categories\" [value]=\"category\">\n            {{ category }}\n          </option>\n        </select>\n      </div>\n    </div>\n    \n    <div class=\"product-grid\">\n      <div class=\"product-card\" *ngFor=\"let product of filteredProducts\">\n        <mat-card class=\"product-card-inner\">\n          <a routerLink=\"/widgets/cards\">\n            <div class=\"product-image-container\">\n              <img\n                [src]=\"product.picture ? product.picture : './assets/images/logos/default-image.jpeg'\"\n                alt=\"{{ product.name }}\"\n                class=\"product-image\"\n                mat-card-image\n              />\n            </div>\n          </a>\n          <mat-card-content class=\"product-content\">\n            <button\n              color=\"primary\"\n              class=\"cart-btn\"\n              matTooltip=\"Add to Cart\"\n              (click)=\"openFoodSelectionModal(product)\"\n            >\n              <i-tabler name=\"shopping-cart\" class=\"cart-icon\"></i-tabler>\n            </button>\n            <mat-card-title class=\"product-title\">\n              {{ product.name }}\n            </mat-card-title>\n            <div class=\"price-container\">\n              <h6 class=\"product-price\">{{ product.price }} TND</h6>\n            </div>\n          </mat-card-content>\n        </mat-card>\n      </div>\n    </div>\n  </mat-card-content>\n</mat-card>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}